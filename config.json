{"version":"0.0.1","schemaVersion":28,"minimumStudioVersion":"3.2.0","icon":"icon01","splash":"default","splashdata":{},"settings":{"router":{"mode":"single","animation":"off"},"theme":"default","push-notifications":{"android":{"enabled":true,"id":"127141762168"},"ios":{"enabled":false,"voipEnabled":true},"wp":{"enabled":false}},"provisioning":{"enabled":false,"manifest":"","poll":2,"manual":false,"wifionly":true},"crashReporting":{"enabled":false,"androidEnabled":false,"iosEnabled":false,"splunkAndroidApiKey":"","splunkIosApiKey":"","splunkExtraData":""},"kioskMode":{"enabled":false},"singleInstance":{"enabled":true},"crosswalk":{"enabled":false},"wkwebview":{"enabled":true},"logging":{"enabled":true,"bufferFrequency":100,"defaultRootLogLevel":"debug","defaultMaxFileSizeKilobyte":5000,"defaultMaxFiles":5,"appEnabled":true,"appUseDefault":true,"appRootLogLevel":"error","appMaxFileSizeKilobyte":1000,"appMaxFiles":5,"clientEnabled":true,"clientUseDefault":true,"clientRootLogLevel":"error","clientMaxFileSizeKilobyte":1000,"clientMaxFiles":5,"nativeEnabled":true,"nativeUseDefault":true,"nativeRootLogLevel":"error","nativeMaxFileSizeKilobyte":1000,"nativeMaxFiles":5},"loading-message":true,"minimise-on-back-button":true,"insomnia":{"enabled":true,"battOp":true,"fgService":true,"fgServiceMain":"PagerResponder","fgServiceSub":"Listening for messages...","startOnBoot":true,"appRestartService":true},"plugins":{"builtIn":{"cordova-plugin-whitelist@1.2.2":{"override":false,"used":true,"enabled":true},"cordova-plugin-battery-status@1.2.4":{"override":false,"used":false,"enabled":false},"cordova-plugin-console@1.0.3":{"override":false,"used":true,"enabled":true},"cordova-plugin-contacts@2.1.0":{"override":false,"used":false,"enabled":false},"cordova-plugin-device@1.1.2":{"override":false,"used":true,"enabled":true},"cordova-plugin-device-motion@1.2.1":{"override":false,"used":false,"enabled":false},"cordova-plugin-device-orientation@1.0.3":{"override":false,"used":false,"enabled":false},"cordova-plugin-file@4.2.0":{"override":false,"used":true,"enabled":true},"cordova-plugin-geolocation@2.2.0":{"override":false,"used":false,"enabled":false},"cordova-plugin-globalization@1.0.3":{"override":false,"used":true,"enabled":true},"commontime-cordova-plugin-inappbrowser@1.6.2":{"override":false,"used":false,"enabled":false},"cordova-plugin-network-information@2.0.1":{"override":false,"used":true,"enabled":true},"cordova-plugin-splashscreen@3.2.2":{"override":false,"used":true,"enabled":true},"cordova-plugin-vibration@2.1.6-dev-ct-0.0.1":{"override":false,"used":true,"enabled":true},"cordova-plugin-statusbar@1.0.1":{"override":false,"used":true,"enabled":true},"cordova-plugin-camera@2.3.1":{"override":false,"used":false,"enabled":false},"cordova-plugin-media-capture@1.4.1":{"override":false,"used":false,"enabled":false},"phonegap-plugin-barcodescanner@6.0.7":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.thumbnail@1.4.10":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.fileimporter@1.0.4":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-opener@1.0.13":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.beacon@1.0.6":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.notification@1.0.17":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.0.4":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.audio@0.9.26":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.media-properties@1.2.13":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.splitscreen@1.1.0":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.preferences@0.0.4":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.authentication@1.0.8":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.urlhandler@1.1.0":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.securesettings@1.0.7":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.geofence@0.5.5":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.file-transfer@1.5.5":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.public.provisioning@0.0.13":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.insomnia@0.0.50":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.splunk-mint@1.0.3":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.kiosk@1.0.11":{"override":false,"used":false,"enabled":false},"cordova-android-movetasktoback@0.1.3":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.logging@1.0.24":{"override":false,"used":true,"enabled":true},"cordova-plugin-email-composer":{"override":false,"used":true,"enabled":true},"cordova-android-crosswalk-webview@2.3.0":{"override":false,"used":false,"enabled":false},"cordova-plugin-wkwebview-engine@1.1.4":{"override":false,"used":true,"enabled":true},"cordova-plugin-wkwebview-file-xhr@2.1.1":{"override":false,"used":true,"enabled":true},"cordova-plugin-emm-app-config@1.0.2":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.file-encryption@0.0.12":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.settimeout@0.0.2":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.public.messaging@0.0.47":{"override":false,"used":false,"enabled":false},"cio.gvox.plugin.phonecalltrap@0.1.2":{"override":false,"used":true,"enabled":true},"cordova-plugin-headsetdetection@3.0.0":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.notification@1.0.21":{"override":true,"used":true,"enabled":false}},"customPlugins":{"cordova-plugin-wkwebviewxhrfix":{"spec":"https://github.com/TheMattRay/cordova-plugin-wkwebviewxhrfix","id":"cordova-plugin-wkwebviewxhrfix"},"com.commontime.cordova.notification":{"spec":"https://github.com/commontime/com.commontime.cordova.notification#updated-gcm","id":"com.commontime.cordova.notification"}}}},"language":{"defaultLocale":"en_GB","initialLanguage":"","useDeviceLocale":true},"pages":[{"start":true,"name":"Login","config":[],"content":[{"name":"staticLogin","type":"area","item-type":"static","content":[{"name":"ConsoleLogo","type":"media","item-type":"image-viewer","scaleImage":false,"maxWidth":200,"maxHeight":200,"fileName":"pager_responder_logo.png","actions":[],"expressions":{},"_auto_id_":"3a5b8b95-e72c-435c-a2d3-47d7a731416c"},{"name":"htmlTitle","type":"content","item-type":"html","content":"<h1><span>Intelligent</span> Paging</h1>\n<h3>Empowering staff. Improving care.</h3>","expressions":{},"_auto_id_":"4899835a-b886-4176-b545-3ed428a7994a"},{"name":"pgLoginForm","type":"messaging-common","item-type":"common-login-form","autoAppendDomainName":true,"username":"","hideUsername":false,"disableUsername":false,"actions":[],"expressions":{},"layer":"pl_responder","_auto_id_":"96fcf00d-bafb-44e5-9d6c-3cc0290df85f"}],"expressions":{},"_auto_id_":"83ab084d-a54f-43ec-a129-c9ada94aba6b"}]},{"start":false,"name":"PagerList","config":[],"content":[{"name":"title_bar","type":"area","item-type":"title-bar","extends":{"type":"area","item-type":"row","_auto_id_":"54644184-cb24-4c95-8ad3-834bd978c024"},"content":[{"name":"pgOnlineIndicator","type":"messaging-common","item-type":"common-online-indicator","layer":"pl_responder","expressions":{},"_auto_id_":"dfbf3f96-7abd-4848-a70c-c4ff4573b68b"},{"name":"btnLogout","type":"button","item-type":"button","content":"Logout","theme":"default","expressions":{},"actions":[{"event":"click","type":"common-log-out","data":{"layer":"pl_responder"},"_auto_id_":"8d666245-1c6a-4c66-9677-8de119490b3a"}],"_auto_id_":"03b25517-2b93-41cc-a052-af3132cb5f68"},{"actions":[{"data":{"isConditional":false,"name":"About"},"event":"click","type":"go-to-page","_auto_id_":"5729bac8-a7fa-4f21-843d-b2e76a4889eb"}],"content":"","expressions":{},"item-type":"button","left-icon":"fa-info","name":"btnAbout","theme":"default","type":"button","_auto_id_":"1c2c10ee-c1e2-47e4-aeac-5161c09ab1c7"}],"_auto_id_":"18a10f6f-9043-473e-b22f-5f579c2e4f17"},{"name":"staticListContainer","type":"area","item-type":"static","content":[{"name":"pgList","type":"pager","item-type":"pg-list","expressions":{},"actions":[],"layer":"pl_responder","_auto_id_":"664c7095-0f13-48aa-ba2f-8ddc8986e258"}],"_auto_id_":"2d9a9772-21b9-46ff-a77d-7abc290825e3"}]},{"config":[],"name":"About","start":false,"content":[{"content":[{"actions":[{"data":{"isConditional":false,"name":"PagerList"},"event":"click","type":"go-to-page","_auto_id_":"1dbf23f5-4552-407f-8083-074c1bdcb2d0"}],"content":"","expressions":{},"item-type":"button","left-icon":"fa-arrow-left","name":"btnBack","theme":"default","type":"button","_auto_id_":"a88e3b82-afb6-4726-89d4-57f12caf180b"}],"extends":{"item-type":"row","type":"area","_auto_id_":"c42ec395-a724-4e31-925b-9da2db9ea1de"},"item-type":"title-bar","name":"title_bar","type":"area","_auto_id_":"a89a7ac6-1de7-4b7a-85af-206450bc4a62"},{"content":[{"actions":[],"expressions":{},"fileName":"CommonTime.png","item-type":"image-viewer","maxHeight":200,"maxWidth":200,"name":"ctLogo","openExternallyOnClick":false,"scaleImage":false,"type":"media","_auto_id_":"6e5a34dc-4f78-47c0-9ce0-cbbf2d67b340"},{"content":"<p class=\"versions\">\n  <span>App Version: {{'$store.schema.version' | store}}</span><br>\n  <span>Pager Version: {{'$store.schema.pagerVersion' | store }}</span>\n</p>\n\n<p><strong>Intelligent Paging</strong> is a new breed of communication tool, designed and developed by CommonTime to facilitate two-way conversations, broadcasts and alerts in high pressure environments.</p>\n\n<p>CommonTime develop market leading communication apps that deliver practical innovation to organisations across the world. Backed by over 20 years of experience, our secure & reliable solutions are vital to mobilising enterprise and government communication. To find out more about CommonTime, visit: <a href=\"https://www.commontime.com\" target=\"_blank\">www.commontime.com</a>.</p>\n\n<h2>Support</h2>\n\n<p>For help or support please contact the CommonTime Help Desk via:</p>\n\n<p><strong>Phone:</strong> <a href=\"tel:08456410767\">0845 641 0767</a></p>\n\n<p><strong>Email:</strong> <a href=\"mailto:support@commontime.com\">support@commontime.com</a></p>\n\n<h3>Advanced</h3>","expressions":{},"item-type":"html","name":"htmlAbout","type":"content","_auto_id_":"2ef9e5b9-360e-4d7a-aa09-5b6b3cfb25b3"},{"_auto_id_":"a8c9143b-a3de-4735-ba9d-e6ae26805c66","actions":[{"_auto_id_":"20db0581-b161-420e-8f4c-9988d9ed8143","actions":[],"data":{"code":"const theme = cti.store.pages.About.switchTheme;\nlet newTheme = \"\";\n\nif (theme) {\n  \n  newTheme = \"dark\";\n}\n\n$success(newTheme);","sync":true},"event":"change","type":"inline-function"},{"_auto_id_":"4833159f-8354-4779-9e31-2f600956286c","data":{"layer":"pl_responder","themeName":"{{$data}}"},"event":"change","type":"common-change-theme"}],"expressions":{},"item-type":"switch","label":"Theme:","name":"switchTheme","off-text":"Dark","on-text":"Light","required":false,"type":"choice","validators":[]},{"actions":[{"data":{"code":"if (cti.store.pages.About.switchLogging) {\n  console.log(\"Enabling support logging...\");\n  pagerLayer.setSupportLoggingTypes();\n}\nelse {\n  console.log(\"Disabling support logging...\");\n  pagerLayer.resetSupportLogging();\n}\n\n$success();","sync":true},"event":"change","type":"inline-function","_auto_id_":"5731c90f-310c-46d3-91fb-235b551b7b35"}],"description":"Turn support logging on","expressions":{},"item-type":"switch","label":"Enable Support Logging:","name":"switchLogging","off-text":"Off","on-text":"On","required":false,"type":"choice","validators":[],"_auto_id_":"a5ba2eec-c917-443a-9851-18480d02a246"},{"actions":[{"data":{"body":"Please see attached logs from the Pager Responder app.","includeArchivedLogs":true,"subject":"Pager app support logs","to":"support@commontime.com"},"event":"click","type":"email-logs","_auto_id_":"7fb8f687-1d40-4b96-830b-0ba64898354e"}],"content":"Email Support Logs","expressions":{},"item-type":"button","left-icon":"fa-envelope-o","name":"btnEmailLogs","theme":"default","type":"button","_auto_id_":"5148dc00-5974-4b0e-b3bb-0bfc573e37d5"}],"expressions":{},"item-type":"scrollable","name":"scrlAbout","type":"area","_auto_id_":"caca4f25-4ebd-4a84-9213-196b1fd4844c"}]}],"actionflows":[{"name":"message_received","content":[{"data":{"code":"if (pagerLayer.getCurrentUserJid()) {\n    \n    $success();\n}","sync":true},"event":"click","type":"inline-function","_auto_id_":"91b65406-99f4-49d9-9d5c-55a2854b135d"},{"data":{"code":"if (!window.runningReceivedActionFlow) {\n    \n    window.runningReceivedActionFlow = true;\n\t$success();\n}","sync":true},"event":"click","type":"inline-function","_auto_id_":"4f3d6e98-f967-40aa-a0a0-cbd09efdaa99"},{"event":"click","type":"stop-audio","_auto_id_":"e49b961d-fbe2-4cf7-8acd-4346f59546d3"},{"event":"click","type":"stop-vibration","_auto_id_":"2e01e501-8e90-43bf-88ef-ce9f9855c17d"},{"event":"click","type":"start-vibration","data":{"pattern":"100,30,100,30,100,200,200,30,200,30,200,200,100,30,100,30,100","customPattern":"","duration":1000,"patternIterations":1,"continuous":true},"_auto_id_":"c3336a28-efe0-45ed-95ab-f9b28fe1ec96"},{"event":"click","type":"inline-function","data":{"sync":true,"code":"if (window.cti.store.env.platform.name === \"android\") { \n    // First go\n    window.plugins.insomnia.switchOnScreenAndForeground(function() {$success();}, function() {$fail();}, {});\n  \n    // Second go\n    setTimeout(function() {window.plugins.insomnia.switchOnScreenAndForeground(function() {}, function() {}, {});}, 1500);\n} else if (window.cti.store.env.platform.name === \"ios\"){\n  plugins.insomnia.switchOnScreenAndForeground();\n}\n$success();\n"},"actions":[],"_auto_id_":"a1a3f500-3a3f-4e80-9519-a932b99558d3"},{"event":"click","type":"get-media-volume","data":{"streamId":"ring"},"_auto_id_":"0deedf49-0a33-4c4a-aa19-dcf2c3294290"},{"event":"click","type":"set-variable","data":{"name":"stored_volume","value":"{{$data}}"},"_auto_id_":"1f719bdd-bffb-4d79-ae87-0078476e6602"},{"event":"click","type":"change-media-volume","data":{"volumeLevel":"100","streamId":"ring"},"_auto_id_":"daec4a6c-2663-4f7f-85dc-d55544bd54c6"},{"event":"click","type":"play-audio","data":{"static":true,"fileName":"pager_responder_alert.m4a","streamId":"ring","loop":true,"loopCount":0,"loopInterval":0.9},"_auto_id_":"57f80360-8707-409b-8416-2afaaa52d7f8"},{"data":{"code":"window.runningReceivedActionFlow = false;\n$success();","sync":true},"event":"click","type":"inline-function","_auto_id_":"ec7cad58-e284-445d-993c-50ca79d7a990"}]},{"name":"message_responded","content":[{"event":"click","type":"stop-vibration","data":{},"_auto_id_":"b0edf314-138d-42d8-bf1d-b09481f77e84"},{"event":"click","type":"stop-audio","data":{},"_auto_id_":"71401fb9-aaf0-441e-bdfa-a784091dd4a0"},{"event":"click","type":"change-media-volume","data":{"volumeLevel":"{{$store.variables.stored_volume}}","streamId":"ring"},"_auto_id_":"b23433da-1041-4863-9b83-eb8da6191dab"},{"event":"click","type":"inline-function","data":{"sync":true,"code":"if (window.cti.store.env.platform.name === \"android\") { \n\n  window.plugins.insomnia.clearKeepScreenOn(function() {\n    $success();\n  }, function() {\n    $fail();\n  });\n\n} else {\n  $success();\n}"},"actions":[],"_auto_id_":"cd41181f-5fef-4c69-99b2-6be94f308eb0"}]},{"content":[{"event":"click","type":"inline-function","data":{"sync":true,"code":"if ($store.env.platform.name === \"ios\") {\n  \tif ($store.variables.debug === true) console.log(\"Disabling Insomnia...\");\n\twindow.plugins.insomnia.disable(() => {\n    \tif ($store.variables.debug === true) console.log(\"Insomnia successfully disabled.\");\n      \t$success();\n    }, (e) => { \n      \tconsole.error(\"There was an error disabling Insomnia, the app will continue to be kept running in the background:\", e);      \n        $fail();\n    });  \n} else {\n    // Still need to continue for non-ios platforms\n\t$success();  \n}"},"_auto_id_":"8519fdec-7dac-42e8-aaf0-0dadec2a88d0"}],"name":"disable_insomnia"},{"content":[{"event":"click","type":"inline-function","data":{"sync":true,"code":"// If we don't have any stored credentials then we don't want to enable insomnia\nconst pagerLayer = window.CtPagerLayer.getInstance(\"pl_responder\");\nif ($store.env.platform.name === \"ios\" && pagerLayer.getCurrentUserJid()) {\n  if ($store.variables.debug === true) console.log(\"Enabling Insomnia...\");\n  window.plugins.insomnia.enable(() => {\n  \t// Start a timer to disable Insomnia after the page TTL\n    clearTimeout(window.__insomniaTimeout);\n    window.__insomniaTimeout = setTimeout(() => {\n    \twindow.cti.utils.callActionflow(\"disable_insomnia\");\n    }, CtPagerLayer.getInstance(\"pl_responder\").config.xmpp.maxMessageAlertAge || 3.6e+6);\n    if ($store.variables.debug === true) console.log(\"Insomnia successfully enabled.\");\n    $success();\n  }, (e) => { \n    console.error(\"There was an error enabling Insomnia:\", e);\n    $fail(e);\n  }); \n} else {\n    // Nothing to do so continue as normal\n\t$success();  \n}"},"_auto_id_":"0c47c7d9-69eb-42c1-b15a-04b5cb67e934"}],"name":"enable_insomnia"},{"content":[{"event":"click","type":"inline-function","data":{"sync":true,"code":"if ($store.variables.debug === true) console.log(\"New Page Received:\", $data);\nif ($store.env.platform.name === \"ios\" && $data && $data.$message) {\n  \tconst messageTs = $data.$message.ts;\n  \t// Keep track of the message timestamps we've seen to avoid needlessly enabling insomnia\n  \tif ($store.variables.pageTs < messageTs) $store.variables.pageTs = messageTs;\n  \tif (messageTs >= $store.variables.pushTs) {\n  \t\tif ($store.variables.debug === true) console.log(\"New message arrived with a timestamp >= to the stored value, so disabling Insomnia...\");\n\t\t$store.variables.pushTs = 0;\n    \t// Disable insomnia\n  \t\t$success(); // This will call the disable_insomnia actionflow within the \"Actions\" tab of this inline function\n    } else {\n    \t// Dont disable insomnia\n\t\t$fail();  \n\t} \n} else {\n    // Dont disable insomnia\n\t$fail();  \n}"},"actions":[{"event":"success","type":"call-actionflow","data":{"name":"disable_insomnia"},"_auto_id_":"bb0b940c-f657-46bc-9f1f-53b209900e95"}],"_auto_id_":"7dc175ed-b67d-48dd-937c-72bc338d449b"}],"name":"check_message_ts"},{"content":[{"event":"click","type":"inline-function","data":{"sync":true,"code":"// If the message timestamp from the VOIP push is greater than the one we currently have stored\n// update the current one with the new one.\nif ($data > $store.variables.pushTs) {\n  if ($store.variables.debug === true) console.log(\"Message timestamp from VOIP push greater than stored value so updating to '\" + $data + \"'.\");\n  $store.variables.pushTs = $data;\n}\n$success($data);"},"actions":[],"_auto_id_":"e5d55eec-89c0-4012-a9d5-9c09e9cbe375"}],"name":"update_push_ts"}],"dataflows":[],"config":[{"name":"common_css","type":"style","item-type":"css","content":"@font-face {\n    font-family: 'OpenSans';\n    src: url('user-assets/pager_opensans-regular.ttf') format('truetype');\n    font-weight: normal;\n    font-style: normal;\n}\n\nh1, h2, h3, h4, h5, h6, p, span {\n    font-family: OpenSans;\n}\n\nhtml, body {\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    user-select: none;\n}\n\nhtml {\n\n    --primary-color: #15233B;\n    --primary-font-color: #ffffff;\n\n    --secondary-color: #2c394e;\n    --secondary-font-color: #ffffff;\n\n    --header-height: 60px;\n\n    --default-font-color: #333536;\n    --default-font-color-light: #9d9d9d;\n    --default-placeholder-color: #a8a8a8;\n\n    --default-bg-color: white;\n    --default-bg-color-light: white;\n    --default-bg-color-dark: #f5f5f5;\n  \n    --default-border-color: #d9d9d9;\n    --default-select-border: 1px solid var(--default-border-color);\n\n    --button-primary-bg: var(--primary-color);\n    --button-primary-text: var(--primary-font-color);\n    --button-primary-border: var(--primary-color);\n\n    --button-secondary-bg: transparent;\n    --button-secondary-border: none;\n    --button-secondary-text: white;\n\n    --button-tertiary-bg: var(--group-primary-color, #64afa8);\n    --button-tertiary-border: 1px solid var(--group-primary-color, #64afa8);\n    --button-tertiary-text: var(--group-text-color, #fff);\n\n    --button-selected-bg: black;\n    --button-selected-border: black;\n    --button-selected-text: white;\n}\n\nhtml[theme=\"dark\"] {\n\n    --default-font-color: #fff;\n    --default-font-color-light: #9d9d9d;\n    --default-placeholder-color: #99AAB5;\n\n    --default-bg-color: #36393e;\n    --default-bg-color-dark: #2f3136;\n    --default-bg-color-light: #484b52;\n\n    --default-border-color: #484b52;\n\n    --button-secondary-bg: #484b52;\n    --button-secondary-border: 1px solid #000;\n    --button-secondary-text: #fff;\n\n    --button-cancel-bg: transparent;\n    --button-cancel-text: #fff;\n    --button-cancel-border: none;\n}\n\nhtml #Login {\n\n    --login-form-font-color: white;\n    --login-form-border-color: white;\n    --default-bg-color-light: #0067cf;\n    --default-border-color: #9b9b9b;\n\n}\n\n.switch-container .switch-text.on {\n    color: var(--default-font-color);\n}\n\n#title_bar {\n    flex: 0 0 var(--header-height);\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    padding: 0 20px;\n    background: var(--primary-color, #0fb1ca);\n    color: var(--primary-font-color, white);\n}\n\n#title_bar ct-online-indicator {\n    flex: 0 0 auto;\n}\n\n#title_bar div#btnNewMessage {\n    margin: 0 auto;\n    flex: 1 1 50%;\n}\n\n#title_bar ct-user-display {\n    margin-left: auto;\n}\n\n#title_bar div#btnLogout {\n    margin: 0 10px 0;\n}\n\n#title_bar div.md-button-container a {\n    background: var(--primary-color, #0fb1ca);\n    color: #fff;\n    border: 1px solid #fff;\n}\n\n\n#staticListContainer {\n    padding: 0;\n    border: 0;\n    height: 100%;\n}\n\n#staticLogin {\n    background-color: #0067cf;\n    color: white;\n    display: flex;\n    flex-direction: column;\n    border: none;\n}\n\n#staticLogin image-viewer[name=\"ConsoleLogo\"] div {\n    display: flex;\n    margin: 10vh auto 0;\n}\n\n#staticLogin image-viewer[name=\"ConsoleLogo\"] div img {\n    margin: auto;\n}\n\n#staticLogin #htmlTitle h1,\n#staticLogin #htmlTitle h3 {\n    text-align: center;\n    font-weight: 300;\n}\n\n#staticLogin #htmlTitle h1 span {\n    font-weight: 500;\n}\n\n#staticLogin #htmlTitle h3 {\n    font-size: 18px;\n}\n\n#staticLogin ct-login-form {\n    width: 70vw;\n    margin: 40px auto;\n    color: white;\n}\n\n#staticLogin #htmlTerms {\n    margin: auto auto 0;\n    text-align: center;\n    font-size: 12px;\n    width: 70vw;\n    opacity: 0.5;\n}\n\n.scrollable-item {\n    padding: 0;\n}\n\n#scrlAbout {\n    display: flex;\n    flex-direction: column;\n    background-color: var(--default-bg-color);\n    color: var(--default-font-color);\n}\n\n#scrlAbout image-viewer[name=\"ctLogo\"] div {\n    display: flex;\n    margin: 2vh auto;\n}\n\n#scrlAbout image-viewer[name=\"ctLogo\"] div img {\n    margin: auto;\n    height: 20vh;\n}\n\np.versions { \n    text-align: center;\n    color: var(--default-font-color-light);\n}\n\n.has-success .control-label {\n    color: inherit !important;  \n}\n\n#btnEmailLogs a {\n    background-color: var(--default-bg-color-light);\n    color: var(--default-font-color);\n    border: 1px solid var(--default-border-color);\n}\n\n@media screen and (max-width: 640px) {\n\n    #title_bar ct-user-display {\n        display: none;\n    }\n}\n\n@media screen and (max-height: 450px) {\n\n    #staticLogin image-viewer,\n    #staticLogin #htmlTitle,\n    #staticLogin #htmlTerms {\n        display: none;\n    }\n\n    #staticLogin ct-login-form {\n        margin: auto;\n    }\n\n}\n","_auto_id_":"a7ec18c5-24c5-4bbf-9b80-3c1d80aacbbc"},{"name":"responder_css","type":"style","item-type":"css","content":"#title_bar div#btnLogout {\n    margin-left: auto;\n}\n","_auto_id_":"103acc9e-73f6-4f57-82f9-31f5cd445b63"},{"name":"pl_responder","type":"pager","item-type":"responderpagerlayer","isBroadcaster":false,"enablePushNotifications":false,"options":{"enablePhotoAttachments":true,"enableAudioAttachments":true},"xmpp":{"endpoint":"wss://rbfrs.cti-paging.com:5281/websocket","user":{"id":"","password":"","domain":"rbfrs.cti-paging.com","resource":"PagerResponder","displayName":"Console User","forceLowercaseJid":true,"userPersistentResource":true},"uploadHost":"upload.rbfrs.cti-paging.com","multicastHost":"multicast.rbfrs.cti-paging.com","autoLogin":true,"autoReconnect":true,"maxMessageAge":86400000,"maxMessageAlertAge":0,"enablePing":true,"useChatMarkers":false,"encryption":true,"fileEncryption":true,"authAttachments":true,"loginTimeout":30000,"push":{"enabled":true,"senderId":"127141762168","packageId":"com.commontime.APNSTest","voip":true,"reLoginOnPushAndroid":false,"reLoginOnPushiOS":true},"showSecondsOnTimestamps":true},"actions":[{"event":"new-page-received","type":"call-actionflow","data":{"name":"check_message_ts"},"_auto_id_":"b883fa30-f0a3-4d1b-a5de-c86832b59ba2"},{"event":"new-page-received","type":"call-actionflow","data":{"name":"message_received"},"_auto_id_":"e08248c1-514a-45e0-a4d3-8d74ec56d614"},{"event":"responded-to-all-pages","type":"call-actionflow","data":{"name":"message_responded"},"_auto_id_":"d1b792c0-716f-4cc0-9ecd-bb72cf82c070"},{"event":"pager-logout-request-confirmed","type":"call-actionflow","data":{"name":"disable_insomnia"},"_auto_id_":"a218b765-045d-4ffa-b21e-f078aedf9ff2"},{"event":"request-make-audio-notification","type":"call-actionflow","data":{"name":"message_received"},"_auto_id_":"34ab1984-8377-4580-92e9-03b8f88b4573"},{"event":"pager-logout-request-confirmed","type":"inline-function","data":{"sync":true,"code":"// Pager layer destroys data when logging out so reset the pushTs and pageTs to keep in sync\n$store.variables.pushTs = 0;\n$store.variables.pageTs = 0;\n$success();"},"_auto_id_":"64dadd2d-ba7b-40d3-a72f-f9afadb5a2d1"},{"event":"login-fail","type":"inline-function","data":{"sync":true,"code":"// If login fails due to invalid credentials then we need to tell the user they need to take action\nif (typeof $data === \"string\" && $data.toLowerCase().includes(\"invalid username or password\") && $store.env.foreground === false) {\n  \tif ($store.variables.debug === true) console.log(\"Login failed due to invalid username or password, showing local notification...\");\n    // Will raise a local notification within the actions tab\n\t$success();\n} else {\n    // Won't do anything\n\t$fail();\n}"},"actions":[{"event":"success","type":"show-notification","data":{"options":{"schedule":false,"dynamic":true},"name":"invalid_credentials"},"_auto_id_":"38d58b30-09df-4632-8a4d-72449d24340e"}],"_auto_id_":"c6b696ac-4664-4c53-83ba-be8ce8913485"},{"event":"pager-layer-ready","type":"inline-function","data":{"sync":true,"code":"window.pagerLayer = window.CtPagerLayer.getInstance('pl_responder');\n\npagerLayer.config.filteredGroups = [\n\"Console Users\",\n\"User Management Administrators\"\n];\n\n$success();"},"_auto_id_":"b46840ce-bd5d-4e75-b6bd-2d160fa7ac9b"},{"event":"connection-status-change","type":"inline-function","data":{"sync":true,"code":"var stopVibrateAndAudio = false;\n\nif($data.status.status === \"disconnected\") {\n    if($data.status.disconnectStatus.wontReconnect) {\n        cti.utils.callAction(\"go-to-page\", { name: \"Login\" });\n      \tstopVibrateAndAudio = true;\n    }\n    if($data.status.disconnectStatus.reason === \"Replaced by new connection\") {\n        cti.utils.callAction(\"go-to-page\", { name: \"Login\" });\n      \tstopVibrateAndAudio = true;\n    }\n    if($data.status.disconnectStatus.reason === \"Kicked by administrator\") {\n        cti.utils.callAction(\"go-to-page\", { name: \"Login\" });\n      \tstopVibrateAndAudio = true;\n    }\n    if($data.status.disconnectStatus.reason === \"Conflict\") {\n        cti.utils.callAction(\"go-to-page\", { name: \"Login\" });\n      \tstopVibrateAndAudio = true;\n    }\n}\n\n$success(stopVibrateAndAudio);"},"_auto_id_":"34de65cd-a0b6-4523-b2f6-63ecd0835f65"},{"event":"pager-logout-request-confirmed","type":"stop-audio","_auto_id_":"579a1e9b-5fe4-4a16-b08f-1c2fbe24487c"},{"event":"pager-logout-request-confirmed","type":"stop-vibration","_auto_id_":"d3c8a342-6ea2-4819-b24a-5ef4f4710438"},{"type":"if","operations":[{"type":"value","content":"{{$data}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"true","$selected":false}],"_auto_id_":"283f1ae2-85c7-48aa-9356-3ce0cc7e90b3"},{"event":"connection-status-change","type":"stop-audio","_auto_id_":"7d9eeecc-e579-4f88-84a4-3afdf4d9ce21"},{"event":"connection-status-change","type":"stop-vibration","_auto_id_":"1331c055-83bc-4d3b-8a1e-21caa1a8c969"},{"type":"end-if","_auto_id_":"98014de0-b31d-4d3e-ac26-a828b2dddbfa"},{"event":"pager-logout-request-confirmed","type":"go-to-page","data":{"isConditional":false,"name":"Login"},"_auto_id_":"2dd14e30-70a2-4140-b95b-8487f972f93c"},{"event":"pager-mute","type":"stop-vibration","_auto_id_":"21299c8b-94be-4204-a5b3-716d49963e98"},{"event":"pager-mute","type":"stop-audio","_auto_id_":"a40b98b0-8312-41e7-8ff5-dd28ed16f19c"},{"event":"login-success","type":"go-to-page","data":{"name":"PagerList","isConditional":false},"_auto_id_":"f4c98d41-cd21-4044-b64a-fa1dff6786e0"}],"_auto_id_":"e8a938ed-e442-42c8-abf2-b63e0267b3ae"},{"name":"stored_volume","type":"scripting","item-type":"variable","variable-type":"string","_auto_id_":"2e6cc8d6-6b0b-4c11-b313-711af7099169"},{"name":"App Load Event","type":"event","item-type":"onappload","actions":[{"event":"onappload","type":"inline-function","data":{"sync":true,"code":"if ($store.env.platform.name === \"ios\") {\n  \tsetTimeout(() => {\n    \twindow.plugins.insomnia.disable(() => {}, (e) => { \n      \t\tconsole.error(\"💀 There was an error disabling Insomnia, the app will continue to be kept running in the background:\", e);\n    \t});\n    }, $store.preferences.insomniaLimit || 60000);\t  \n}\nif ($store.env.platform.name === \"android\") {\n\twindow.plugins.insomnia.switchOnScreenAndForeground(() => {}, () => {}, {\"showWhenLocked\": false, \"turnScreenOn\": true, \"dismissKeyGuard\": false, \"keepScreenOn\": true });\n}\n$success();"},"actions":[],"_auto_id_":"14c64223-4008-40c4-9171-6ed655cd3871"},{"type":"go-to-page","data":{"name":"Login","isConditional":false},"event":"onappload","_auto_id_":"e94493ec-1ca6-498b-93e9-d026e010e3af"},{"event":"onappload","type":"get-media-volume","data":{"streamId":"ring"},"_auto_id_":"ee7df221-f7bd-40c7-972c-2f262d99ffb3"},{"event":"onappload","type":"set-variable","data":{"name":"stored_volume","value":"{{$data}}"},"_auto_id_":"723469b3-b239-4cdf-9d0c-38d110a1c47d"}],"_auto_id_":"249dbfba-f873-44b7-bb91-384bf0ccdb7e"},{"name":"OpenSans","type":"style","item-type":"font-asset","fileName":"pager_opensans-regular.ttf","_auto_id_":"0f2ea2ad-d6b3-446b-aef4-75470b3dc634"},{"name":"OpenSansBold","type":"style","item-type":"font-asset","fileName":"pager_opensans-bold.ttf","_auto_id_":"32408117-ba06-4dba-abfb-065f8ea117b9"},{"name":"on_voip_push","type":"notification","item-type":"voip-push-event","operations":[{"type":"value","content":"1","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"1","$selected":false}],"actions":[{"type":"inline-function","data":{"sync":true,"code":"// Get the timestamp from the push, if any.\nif ($store.variables.debug === true) console.log(\"Got a new VOIP push message:\", $data.$notification);\nif ($data.$notification && $data.$notification.payload && $data.$notification.payload.timestamp) {  \t\n\tlet ts = null;\n  \ttry {\n      \tts = parseInt($data.$notification.payload.timestamp);\n    } catch (e) {\n     \tconsole.error(\"Couldn't parse the message timestamp from the VOIP push message:\", e);\n    }\n  \t// Also check to make sure we've not already had a message with this timestamp\n  \tif (ts !== null && ts > $store.variables.pageTs) {\n    \t$success(ts);\n    }\n}\n// If there is no timestamp or we have already dealt with newer messages dont do anything, no need to even call subsequent items in this flow\n"},"_auto_id_":"6f6a9382-15fe-4a7a-89fd-44fa89e8ccec","actions":[]},{"type":"call-actionflow","data":{"name":"update_push_ts"},"_auto_id_":"6f6a9382-15fe-4a7a-89fd-44fa89e8cced"},{"type":"call-actionflow","data":{"name":"enable_insomnia"},"_auto_id_":"6f6a9382-15fe-4a7a-89fd-44fa89e8ccee"},{"type":"inline-function","data":{"sync":true,"code":"// Only show a local notification if the user is logged in\nconst pagerLayer = window.CtPagerLayer.getInstance(\"pl_responder\");\nif (pagerLayer.getCurrentUserJid()) {\n\t$success(); // Show the local notification, trigger within the actions tab of this inline function  \n} else {\n\t$fail(); // Don't show the local notification\n}"},"actions":[{"event":"success","type":"show-notification","data":{"options":{"schedule":false,"dynamic":true},"name":"local_notification_1"},"_auto_id_":"563c914d-c2f8-43cc-8b60-63cd02c18f6c"}]}],"_auto_id_":"d19b895b-5562-4832-8bee-4e6830ae1036"},{"name":"pushTs","type":"scripting","item-type":"variable","variable-type":"int","value":"0","_auto_id_":"be0aff8f-ba22-4e1f-98b2-5640b8896188"},{"name":"debug","type":"scripting","item-type":"variable","variable-type":"boolean","value":"false","_auto_id_":"488184ca-47a4-4c25-97c3-2eaf97249379"},{"name":"pageTs","type":"scripting","item-type":"variable","variable-type":"int","value":"0","_auto_id_":"99739b6c-668d-44f2-8650-c839455e7f62"},{"name":"local_notification_1","type":"notification","item-type":"device-notification","interactions":[],"title":"New Page","text":"You have a new Page, press here to view it.","_auto_id_":"c119727d-7db9-49ba-9394-7889be523d29"},{"name":"invalid_credentials","type":"notification","item-type":"device-notification","interactions":[],"title":"Unable to login","text":"Your credentials are no longer valid, please login again to continue to receive pages.","_auto_id_":"18594eb2-ad45-44ee-8b11-dbd82cef5418"}],"components":[],"id":"e5d60bfb-4f0d-470a-89e8-cf87deeab561","name":"PagerResponder","packageId":"com.commontime.infinity.PagerResponder","metadata":{},"jwt":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBfaWQiOiJlNWQ2MGJmYi00ZjBkLTQ3MGEtODllOC1jZjg3ZGVlYWI1NjEiLCJhcHBfbmFtZSI6IlBhZ2VyUmVzcG9uZGVyIiwiYnVpbGRfaWQiOiIxYzIyMmJmZC1mNGMzLTQyNzQtOTc3OS1hNjEwYjBhOTZlYTQiLCJjbGllbnRfaWQiOiI4M2EzY2QyZC1kNjdiLTRhZjgtYjQ3ZS1jMzI3MjMwYTZjNjEiLCJjbGllbnRfc2VjcmV0IjoiUTFsUlRXdHFha3QwWVVKak9FMU1kazU1VG5STmR6MDkiLCJleHAiOjE1NzAxNDcyMDAsImZyZXF1ZW5jeSI6MjE2MDAwMDAwLCJoYXNoIjoiMzk2Nzg4OTZhYWI0NjVkZTYzMmU5MTY1ODc0MzEwNjdkZDFjMjEwZmYxODhmNjhmMGRkYzczNGMxMWZmMjI2YSIsImxpY19leHAiOjE1Njc1NTUyMDAsImxwX2lkIjoiZjY5OTc5NjgtNzU5Ny00MmE0LTkxZmYtMjBkNDQzNzdhYzZmIiwicGFja2FnZV9pZCI6ImNvbS5jb21tb250aW1lLmluZmluaXR5LlBhZ2VyUmVzcG9uZGVyIiwicmVmcmVzaF90b2tlbiI6IlNsWXJSRUp5YUZOcU1sTTJlak5NVjJ3eWVrVTNURE5YVVdReWVucDRVVkpXYm5SelYzcDRXVGxSY3owPSIsInR5cGUiOiJmdWxsIiwiaWF0IjoxNTQxNDk4NTYwfQ.PKR2N8JfIFzAanyae-SblBf3By7SSgI-XtNzmSeVRyOAiZrSUmjj1nv7NRjLnTqnJ5N0DF6jrneAdzTVB0DSIu7NicE8cIpNaAGSGOplM47QV-rre-koYpCuzXDASBRK9rCus_kMZbtIAEW1puHl0Y-_a1r88x19-DWRsdRsCZxkOMAcRDXiG0d0Yi1FO1dxoC4cP03JiOLVsKNEBfam8AcZM_OgWkkWviKpLDKzceDh3C-BHFGyTfssEL8ug7rWxyK8wTDN_ML-VbpKxgSnQwJAkdI-LNUqdZO8qDJijabUddzZ-0dIFTV1CVvU6J6pjM2Z8-rAgWsVddvV-YC0yA","buildId":"1c222bfd-f4c3-4274-9779-a610b0a96ea4","displayName":"PagerResponder","hostContext":0}